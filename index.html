<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Commande COMO</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f4f4f4;
  margin: 0;
  padding: 10px;
}
h1 { text-align: center; }
h2 {
  background: #222;
  color: #fff;
  padding: 8px;
  margin-top: 25px;
  font-size: 16px;
}
button {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  margin: 10px 0;
}
table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
  background: white;
}
th, td {
  padding: 8px;
  border-bottom: 1px solid #ddd;
  text-align: center;
}
th { background: #eee; }
td:first-child { text-align: left; }
input { width: 60px; text-align: center; }
.commande { font-weight: bold; color: #c00000; }
</style>
</head>

<body>

<h1>Commande COMO</h1>
<button onclick="toggleCommande()">Voir uniquement la commande</button>

<div id="app"></div>

<script>
// =========================
// LISTE COMPLÈTE DES PRODUITS (ORIGINALE)
// =========================
const data = {

"JUS": [
"A.MILLIAT CITRONNADE GINGEMBRE",
"A.MILLIAT FRAISE 33CLS VP X12",
"A.MILLIAT JUS ORANGE 1LT VP X6",
"A.MILLIAT JUS POMME 1LT VP X6",
"A.MILLIAT MANGUE 33CLS VP X12",
"A.MILLIAT ORANGE 33CLS VP X12",
"A.MILLIAT PECHE JAUNE 1LT VP X6",
"A.MILLIAT PECHE VIGNE 33CLS VP X12",
"A.MILLIAT POMME COX 33CLS VP X12",
"A.MILLIAT TOMATE CRIMÉE 33CLS VP X12",
"BRIQUE ANANAS 1LT X8",
"BRIQUE MULTIFRUIT 1LT X8",
"BRIQUE ORANGE 1LT X8",
"BRIQUE PAMPLEMOUSSE 1LT X8",
"BRIQUE POMME 1LT X8"
],

"SOFTS": [
"ACQUA PANNA 75CLS VP X12",
"AGUA CANA 70CL",
"BITTER ANGOSTURA 20CLS",
"BROOKLYN STONEWALL 33CLS X24",
"CAFÉ GOURMET ORANGE 1KG",
"CARAIBOS ORANGE 1LT X6",
"CARAIBOS ANANAS 1LT X6",
"CARAIBOS CRANBERRY 1LT X6",
"CARAIBOS GOYAVE 1LT X6",
"CARAIBOS PAMPLEMOUSSE 1LT X6",
"CARAIBOS PINA COLADA 1LT X6",
"CARAIBOS POMME 1LT X6",
"CARAIBOS TOMATE 1LT X6",
"CARLSBERG CLUB 33CLS X24",
"CLUB MATE 33CLS",
"COCA COLA 33CLS X24",
"COCA ZERO 33CLS X24",
"EAU NEUVE PLATE 50CL X12",
"FANTA ORANGE 33CLS X24",
"FUZETEA PECHE 33CLS X24",
"ICE TEA PECHE 33CLS X24",
"LDP PARIS TONIC BIO 75CLS",
"PERRIER 75CLS X12",
"PERRIER 33CLS X24",
"RED BULL 25CLS X24",
"SAN PELLEGRINO 75CLS X12",
"TROPICO 33CLS X24"
],

"VINS ROUGES": [
"BEAUJOLAIS 75CL",
"LA TERRIENNE ROUGE BIO 75CL X6",
"LOUP BERGERIE ROUGE 75CL X12",
"SANS CHICHI ROUGE 75CL X6"
],

"VINS BLANCS": [
"CHABLIS LAROCHE 75CL X6",
"LA TERRIENNE BLANC BIO 75CL X6",
"SARDINE BLANC 75CL X6"
],

"VINS ROSÉS": [
"LOUP BERGERIE ROSE 75CL X12",
"PIVE ROSE MAGNUM 1.5L X3",
"ROSE DE L'ETE 75CL X6",
"ROSE DOMAINE PIVE 75CL X12",
"ROSE DOMAINE PIVE 75CL X6",
"ROSE PIVE CANETTE 25CLS X24"
],

"CHAMPAGNE & BULLES": [
"CHAMPAGNE H BEAUGRAND 75CL X6",
"PROSECCO RICCADONNA 75CL X6",
"PIVE BRUT 75CL X6",
"PET NAT 75CL"
],

"SIROPS": [
"MONIN FRAISE 1LT",
"MONIN FRAMBOISE 1LT",
"MONIN MANGUE 1LT",
"MONIN PASSION 1LT",
"MONIN CANNELLE 70CLS",
"MONIN CARAMEL 70CLS",
"MONIN CITRON JAUNE 1LT",
"MONIN CITRON VERT 70CLS",
"MONIN GRENADINE 1LT",
"MONIN KIWI 70CLS",
"MONIN MELON 1LT",
"MONIN MIEL 70CLS",
"MONIN NOISETTE 70CLS",
"MONIN ORGEAT 1LT",
"MONIN PECHE 1LT",
"MONIN VANILLE 70CLS",
"MONIN VIOLETTE 70CLS",
"MONIN SUCRE DE CANNE 1LT",
"SIROP PECHE GUIOT 1LT"
],

"FÛTS": [
"FUT 20 LT 1664 BLANC",
"FUT 20 LT GINGER",
"FUT 20 LT GOUDALE BLANC",
"FUT 20 LT GOUDALE IPA",
"FUT 20 LT LIMONADE GOUDALE",
"FUT 20 LT PARISCOLA",
"FUT 20 LT TONIC BIO",
"FUT 30 LT LIMONADE ROXANNE",
"FUT 30 LT SAINT OMER",
"FUT 6 LT HOEGAARDEN",
"TUBE CO2 10KG"
],

"ALCOOLS FORTS": [
"GIN GORDONS 70CLS",
"RHUM 3 RIVIERES BLANC 70CL",
"RHUM CAPTAIN MORGAN GOLD 70CL",
"RHUM CAPTAIN MORGAN WHITE 70CL",
"VODKA SMIRNOFF 70CL",
"GET 27 1LT",
"KAHLUA 70CL",
"TRIPLE SEC 70CL"
],

"THÉS & INFUSIONS": [
"THE EARL GREY X24",
"THE BREAKFAST X24",
"THE DARJEELING X24",
"THE CEYLAN X24",
"THE VANILLE X24",
"THE ROOIBOS X24",
"INFUSION CITRON GINGEMBRE",
"INFUSION FRAMBOISE MENTHE"
]
};

// =========================
// OBJECTIFS (SEULEMENT CEUX À CALCULER)
// =========================
const objectifs = {
"FUT 30 LT SAINT OMER": 24,
"FUT 20 LT GOUDALE BLANC": 15,
"FUT 20 LT GOUDALE IPA": 15,
"FUT 20 LT LIMONADE GOUDALE": 4,
"TUBE CO2 10KG": 3,

"CHAMPAGNE H BEAUGRAND 75CL X6": 6,
"PROSECCO RICCADONNA 75CL X6": 15,

"GIN GORDONS 70CLS": 6,
"RHUM 3 RIVIERES BLANC 70CL": 6,
"RHUM CAPTAIN MORGAN GOLD 70CL": 10,
"RHUM CAPTAIN MORGAN WHITE 70CL": 10,
"VODKA SMIRNOFF 70CL": 10,
"GET 27 1LT": 4,

"CARLSBERG CLUB 33CLS X24": 8,
"COCA COLA 33CLS X24": 20,
"COCA ZERO 33CLS X24": 20,
"EAU NEUVE PLATE 50CL X12": 15,
"ICE TEA PECHE 33CLS X24": 4,
"PERRIER 75CLS X12": 7,
"PERRIER 33CLS X24": 15,
"RED BULL 25CLS X24": 12,

"LOUP BERGERIE ROUGE 75CL X12": 2
};

// =========================
// INTERFACE + CALCUL
// =========================
let filtre = false;
const app = document.getElementById("app");

for (const cat in data) {
  const h2 = document.createElement("h2");
  h2.textContent = cat;
  app.appendChild(h2);

  const table = document.createElement("table");
  table.innerHTML = `
    <thead>
      <tr>
        <th>Produit</th>
        <th>Stock</th>
        <th>À commander</th>
      </tr>
    </thead>
    <tbody></tbody>
  `;
  app.appendChild(table);

  const tbody = table.querySelector("tbody");

  data[cat].forEach(p => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${p}</td>
      <td><input type="number" value="0" min="0"></td>
      <td class="commande">0</td>
    `;
    tbody.appendChild(tr);
  });
}

function calculer() {
  document.querySelectorAll("tbody tr").forEach(tr => {
    const produit = tr.children[0].textContent.trim();
    const stock = Number(tr.querySelector("input").value) || 0;

    let aCommander = 0;
    if (objectifs[produit] !== undefined) {
      aCommander = Math.max(0, objectifs[produit] - stock);
    }

    tr.querySelector(".commande").textContent = aCommander;
    tr.style.display = aCommander > 0 || !filtre ? "" : "none";
  });
}

function toggleCommande() {
  filtre = !filtre;
  calculer();
}

document.addEventListener("input", calculer);
</script>

</body>
</html>
