<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Commande COMO</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f4f4f4;
  margin: 0;
  padding: 10px;
}
h1 {
  text-align: center;
}
h2 {
  background: #222;
  color: #fff;
  padding: 8px;
  margin-top: 25px;
  font-size: 16px;
}
button {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  margin: 10px 0;
}
table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
  background: white;
}
th, td {
  padding: 8px;
  border-bottom: 1px solid #ddd;
  text-align: center;
}
th {
  background: #eee;
}
td:first-child {
  text-align: left;
}
input {
  width: 60px;
  text-align: center;
}
.commande {
  font-weight: bold;
  color: #c00000;
}
</style>
</head>

<body>

<h1>Commande COMO</h1>
<button onclick="toggleCommande()">Voir uniquement la commande</button>

<div id="app"></div>

<script>
// =========================
// TOUS LES PRODUITS COMO
// =========================
const data = {

"FÛTS": [
  "FUT 20 LT 1664 BLANC",
  "FUT 20 LT GINGER",
  "FUT 20 LT GOUDALE BLANC",
  "FUT 20 LT GOUDALE IPA",
  "FUT 20 LT LIMONADE GOUDALE",
  "FUT 20 LT PARISCOLA",
  "FUT 20 LT TONIC BIO",
  "FUT 30 LT LIMONADE ROXANNE",
  "FUT 30 LT SAINT OMER",
  "FUT 6 LT HOEGAARDEN",
  "TUBE CO2 10KG"
],

"SOFTS": [
  "ACQUA PANNA 75CLS",
  "AGUA CANA 70CL",
  "BROOKLYN STONEWALL 33CLS",
  "CARLSBERG CLUB 33CLS",
  "CLUB MATE 33CLS",
  "COCA COLA 33CLS",
  "COCA ZERO 33CLS",
  "EAU NEUVE PLATE 50CL",
  "FANTA ORANGE 33CLS",
  "FUZETEA PECHE 33CLS",
  "ICE TEA PECHE 33CLS",
  "LDP PARIS TONIC BIO 75CL",
  "PERRIER 75CLS",
  "PERRIER 33CLS",
  "RED BULL 25CLS",
  "SAN PELLEGRINO 75CLS",
  "TROPICO 33CLS"
],

"JUS": [
  "A.MILLIAT CITRONNADE GINGEMBRE",
  "A.MILLIAT FRAISE 33CLS",
  "A.MILLIAT JUS ORANGE 1LT",
  "A.MILLIAT JUS POMME 1LT",
  "A.MILLIAT MANGUE 33CLS",
  "A.MILLIAT ORANGE 33CLS",
  "A.MILLIAT PECHE JAUNE 1LT",
  "A.MILLIAT PECHE VIGNE 33CLS",
  "A.MILLIAT POMME COX 33CLS",
  "A.MILLIAT TOMATE CRIMEE 33CLS",
  "BRIQUE ANANAS 1LT",
  "BRIQUE MULTIFRUIT 1LT",
  "BRIQUE ORANGE 1LT",
  "BRIQUE PAMPLEMOUSSE 1LT",
  "BRIQUE POMME 1LT"
],

"VINS ROUGES": [
  "BEAUJOLAIS",
  "LA TERRIENNE ROUGE BIO",
  "LOUP BERGERIE ROUGE",
  "SANS CHICHI ROUGE"
],

"VINS BLANCS": [
  "CHABLIS LAROCHE",
  "LA TERRIENNE BLANC BIO",
  "SARDINE BLANC"
],

"VINS ROSÉS": [
  "LOUP BERGERIE ROSE",
  "PIVE ROSE MAGNUM",
  "ROSE DE L'ETE",
  "ROSE DOMAINE PIVE",
  "ROSE PIVE CANETTE"
],

"CHAMPAGNE & BULLES": [
  "CHAMPAGNE H BEAUGRAND",
  "PROSECCO RICCADONNA",
  "PIVE BRUT",
  "PET NAT"
],

"ALCOOLS FORTS": [
  "GIN GORDONS",
  "RHUM 3 RIVIERES",
  "CAPTAIN MORGAN GOLD",
  "CAPTAIN MORGAN BLANC",
  "VODKA SMIRNOFF",
  "GET 27",
  "KAHLUA",
  "TRIPLE SEC"
],

"SIROPS": [
  "MONIN FRAISE",
  "MONIN FRAMBOISE",
  "MONIN MANGUE",
  "MONIN PASSION",
  "MONIN CARAMEL",
  "MONIN CITRON",
  "MONIN GRENADINE",
  "MONIN VANILLE"
],

"THES & INFUSIONS": [
  "THE EARL GREY",
  "THE BREAKFAST",
  "THE DARJEELING",
  "THE CEYLAN",
  "THE VANILLE",
  "THE ROOIBOS",
  "INFUSION CITRON GINGEMBRE",
  "INFUSION FRAMBOISE MENTHE"
]
};

// =========================
// OBJECTIFS (SEULEMENT CEUX QUE TU VEUX CALCULER)
// =========================
const objectifs = {
  "FUT 30 LT SAINT OMER": 24,
  "FUT 20 LT GOUDALE BLANC": 15,
  "FUT 20 LT GOUDALE IPA": 15,
  "FUT 20 LT LIMONADE GOUDALE": 4,
  "TUBE CO2 10KG": 3,

  "CHAMPAGNE H BEAUGRAND": 6,
  "PROSECCO RICCADONNA": 15,

  "PIVE ROSE DOMAINE": 30,
  "CHARDONNAY": 35,
  "CHABLIS LAROCHE": 15,
  "LA TERRIENNE BLANC BIO": 10,
  "LOUP BERGERIE ROUGE": 2,

  "GIN GORDONS": 6,
  "RHUM 3 RIVIERES": 6,
  "CAPTAIN MORGAN GOLD": 10,
  "CAPTAIN MORGAN BLANC": 10,
  "VODKA SMIRNOFF": 10,
  "GET 27": 4,

  "CARLSBERG CLUB 33CLS": 8,
  "COCA COLA 33CLS": 20,
  "COCA ZERO 33CLS": 20,
  "EAU NEUVE PLATE 50CL": 15,
  "ICE TEA PECHE 33CLS": 4,
  "PERRIER 75CLS": 7,
  "PERRIER 33CLS": 15,
  "RED BULL 25CLS": 12
};

// =========================
// INTERFACE
// =========================
let filtre = false;
const app = document.getElementById("app");

for (const cat in data) {
  const h2 = document.createElement("h2");
  h2.textContent = cat;
  app.appendChild(h2);

  const table = document.createElement("table");
  table.innerHTML = `
    <thead>
      <tr>
        <th>Produit</th>
        <th>Stock</th>
        <th>À commander</th>
      </tr>
    </thead>
    <tbody></tbody>
  `;
  app.appendChild(table);

  const tbody = table.querySelector("tbody");

  data[cat].forEach(p => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${p}</td>
      <td><input type="number" value="0" min="0"></td>
      <td class="commande">0</td>
    `;
    tbody.appendChild(tr);
  });
}

// =========================
// CALCUL SIMPLE (COMPLÉMENT)
// =========================
function calculer() {
  document.querySelectorAll("tbody tr").forEach(tr => {
    const produit = tr.children[0].textContent.trim();
    const stock = Number(tr.querySelector("input").value) || 0;

    let aCommander = 0;
    if (objectifs[produit] !== undefined) {
      aCommander = Math.max(0, objectifs[produit] - stock);
    }

    tr.querySelector(".commande").textContent = aCommander;
    tr.style.display = aCommander > 0 || !filtre ? "" : "none";
  });
}

function toggleCommande() {
  filtre = !filtre;
  calculer();
}

document.addEventListener("input", calculer);
</script>

</body>
</html>
